{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://js-chat/./src/constants.js","webpack://js-chat/./src/render.js","webpack://js-chat/./src/services.js","webpack://js-chat/./src/stateMessages.js","webpack://js-chat/webpack/bootstrap","webpack://js-chat/webpack/runtime/define property getters","webpack://js-chat/webpack/runtime/hasOwnProperty shorthand","webpack://js-chat/webpack/runtime/make namespace object","webpack://js-chat/./src/messages.js"],"sourcesContent":["export const MESSAGES = {\n  networkError: 'Trouble connecting to the network.  Please try again',\n  default: 'Something went wrong.  Please try again',\n  \"auth-insufficient\": \"Invalid username dog\",\n  \"required-username\": \"Invalid username\",\n};\n\nexport const API_VERSION = 'v1';\n\n\n","import { MESSAGES } from './constants';\n\nexport function render( { state, add } = {} ) {\n  const html = Object.values(state.messages).map( message => {\n    return `\n      <li class=\"todo\">\n      <div class=\"message\">\n        <div class=\"sender-info\">\n          <span>${message.username}</span>\n        </div>\n        <p class=\"message-text\"> ${message.message} </p> \n      </div>\n      </li>\n      `;\n  }).join('') || `<p>No messages yet, start a new chat!</p>`;\n  const chatEl = document.querySelector('.todos');\n  chatEl.innerHTML = html;\n  const userHtml = Object.values(state.users).map( user => {\n    return `\n      <li class=\"todo\"><label>${user}</label> </li>`\n  }).join('') || `<p>No User online now!</p>`;\n  const userEl = document.querySelector('.users');\n  userEl.innerHTML = `<h2>Active Users</h2>` + userHtml;\n\n}\n\nexport function renderStatus(message) {\n  const statusEl = document.querySelector('.status');\n  if( !message ) {\n    statusEl.innerText = '';\n    return;\n  }\n  const key = message?.error ? message.error : 'default';\n  statusEl.innerText = MESSAGES[key] || MESSAGES.default;\n}\n\n","export function fetchAddMessage(task) {\n  return fetch('/api/v1/messages', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify({ task })\n  }).catch(() => Promise.reject({ error: 'networkError' })).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return response.json().catch(error => Promise.reject({ error })).then(err => Promise.reject(err));\n  });\n}\n\nexport function fetchMessages() {\n  return fetch('/api/v1/messages').catch(() => Promise.reject({ error: 'networkError' })).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return response.json().catch(error => Promise.reject({ error })).then(err => Promise.reject(err));\n  });\n}\n\nexport function fetchUsers() {\n  return fetch('/api/v1/users').catch(() => Promise.reject({ error: 'networkError' })).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return response.json().catch(error => Promise.reject({ error })).then(err => Promise.reject(err));\n  });\n}\n\nexport function fetchSession() {\n  return fetch('/api/v1/session', {\n    method: 'GET'\n  }).catch(() => Promise.reject({ error: 'networkError' })).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return response.json().catch(error => Promise.reject({ error })).then(err => Promise.reject(err));\n  });\n}\n\nexport function fetchLogout() {\n  return fetch('/api/v1/session', {\n    method: 'DELETE'\n  }).catch(() => Promise.reject({ error: 'networkError' })).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return response.json().catch(error => Promise.reject({ error })).then(err => Promise.reject(err));\n  });\n}\n\nexport function fetchLogin(username) {\n  return fetch('/api/v1/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify({ username })\n  }).catch(() => Promise.reject({ error: 'networkError' })).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return response.json().catch(error => Promise.reject({ error })).then(err => Promise.reject(err));\n  });\n}","const messages = {};\nconst users = {};\nconst loader = false;\n\nexport default {\n  messages,\n  users,\n  loader,\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import state from './stateMessages';\nimport { fetchAddMessage, fetchMessages, fetchSession, fetchLogout, fetchLogin, fetchUsers } from './services';\nimport { render, renderStatus } from './render';\n\ncheckForSession();\naddAbilityToLogin();\naddAbilityToLogout();\naddAbilityToRefresh();\naddAbilityToAddMessage();\n\nfunction setLoggedIn(isLoggedIn) {\n  const loginEl = document.querySelector('main');\n  if (isLoggedIn) {\n    loginEl.classList.remove('not-logged-in');\n    loginEl.classList.add('logged-in');\n  } else {\n    loginEl.classList.add('not-logged-in');\n    loginEl.classList.remove('logged-in');\n  }\n  render({ state });\n  renderStatus('');\n}\n\nfunction renderOnLogin(messages) {\n  state.messages = messages;\n  setLoggedIn(true);\n  enableAutoRefresh();\n}\n\nfunction enableAutoRefresh(){\n    let refreshData = setInterval(function() {\n    populateMessages();\n    populateActiveUsers();\n  }, 5000);\n}\n\nfunction checkForSession() {\n  fetchSession().then(populateMessages).catch(() => setLoggedIn(false));\n}\n\nfunction addAbilityToLogin() {\n  const buttonEl = document.querySelector('.login button');\n  const usernameEl = document.querySelector('.login__username');\n  buttonEl.addEventListener('click', e => {\n    const username = usernameEl.value;\n    fetchLogin(username).then(renderOnLogin).then(populateActiveUsers).catch(error => renderStatus(error));\n  });\n}\n\nfunction addAbilityToLogout() {\n  const buttonEl = document.querySelector('.logout');\n  buttonEl.addEventListener('click', e => {\n    state.messages = {};\n    state.users = {};\n    fetchLogout().then(() => setLoggedIn(false)).catch(error => renderStatus(error));\n  });\n}\n\nfunction populateMessages() {\n  fetchMessages().then(rawMessages => {\n    state.messages = rawMessages;\n    setLoggedIn(true);\n    renderStatus('');\n  }).catch(error => {\n    renderStatus(error);\n  });\n}\n\nfunction populateActiveUsers() {\n  fetchUsers().then(rawUsers => {\n    state.users = rawUsers;\n    render({ state });\n  }).catch(error => {\n    renderStatus(error);\n  });\n}\n\n\nfunction addAbilityToAddMessage() {\n  const buttonEl = document.querySelector('.add');\n  const inputEl = document.querySelector('.to-add');\n  buttonEl.addEventListener('click', e => {\n    e.preventDefault();\n    const messageInput = inputEl.value;\n    fetchAddMessage(messageInput).then(messages => {\n      inputEl.value = '';\n      state.messages = messages;\n      render({ state });\n      renderStatus('');\n    }).catch(err => {\n      renderStatus(err || 'error');\n    });\n  });\n}\n\nfunction addAbilityToRefresh() {\n  const buttonEl = document.querySelector('.refresh');\n  buttonEl.addEventListener('click', () => {\n    populateMessages();\n  });\n}"],"names":["MESSAGES","networkError","API_VERSION","render","state","add","html","Object","values","messages","map","message","username","join","chatEl","document","querySelector","innerHTML","userHtml","users","user","userEl","renderStatus","statusEl","innerText","key","error","fetchAddMessage","task","fetch","method","headers","Headers","body","JSON","stringify","Promise","reject","then","response","ok","json","err","fetchMessages","fetchUsers","fetchSession","fetchLogout","fetchLogin","loader","checkForSession","addAbilityToLogin","addAbilityToLogout","addAbilityToRefresh","addAbilityToAddMessage","setLoggedIn","isLoggedIn","loginEl","classList","remove","renderOnLogin","enableAutoRefresh","refreshData","setInterval","populateMessages","populateActiveUsers","buttonEl","usernameEl","addEventListener","e","value","rawMessages","rawUsers","inputEl","preventDefault","messageInput"],"sourceRoot":""}